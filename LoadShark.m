pics_dir = 'Shark/';
depthColorRefinement(pics_dir); % 颜色图和深度图滤波 Color Depth Refinement

refined_dir_name = 'DepthColorRefinement/';
color_dir_name = 'Color/';
depth_dir_name = 'Depth/';
prc_dir_name = [pics_dir,refined_dir_name,color_dir_name];
prd_dir_name = [pics_dir,refined_dir_name,depth_dir_name];
pc_dir_name = [pics_dir, color_dir_name];

K_L = [1847.600654	0.000000	960.000000	;
        0.000000	1847.600654	540.000000	;
        0.000000	0.000000	1.000000];
K_R = [1847.600654	0.000000	960.000000	;
        0.000000	1847.600654	540.000000	;
        0.000000	0.000000	1.000000	];
K_V = [1847.600654	0.000000	960.000000	;
        0.000000	1847.600654	540.000000	;
        0.000000	0.000000	1.000000	];
Rt_L = ([eye(3), [-0.066 0 0]']);
Rt_R = ([eye(3), [0.066 0 0]']);
Rt_V = ([eye(3), [0 0 0]']);

Znear_frame_Rs = [-3.738431
-3.729173
-3.719443
-3.708850
-3.697590
-3.685563
-3.672941
-3.659423
-3.532609
-3.521538
-3.509449
-3.496420
-3.482283
-3.467198
-3.451033
-3.433819
-3.415545
-3.396297
-3.375940
-3.354528
-3.332102
-3.308583
-3.284024
-3.258382
-3.231665
-3.203855
-3.175012
-3.145042
-3.114011
-3.081871
-3.048705
-3.014588
-2.979499
-2.943449
-2.906397
-2.868313
-2.829212
-2.789035
-2.747797
-2.705422
-2.661976
-2.617870
-2.573631
-2.529306
-2.484813
-2.441152
-2.396472
-2.351670
-2.306721
-2.261681
-2.216495
-2.171180
-2.125758
-2.080188
-2.034476
-1.988661
-1.942699
-1.896625
-1.850430
-1.804091
-1.757651
-1.711088
-1.664408
-1.617586
-1.573547
-2.282526
-2.229995
-2.177454
-2.124879
-2.072287
-2.019693
-1.967086
-1.980557
-1.927905
-1.875302
-1.822725
-1.770166
-1.717626
-1.665111
-1.612635
-1.561298
-2.028039
-1.973501
-1.918895
-1.865220
-1.810756
-1.756308
-1.701895
-1.647551
-1.593252
-1.538988
-1.484814
-1.430696
-1.376674
-1.322727
-1.268868
-1.215949
-2.526849
-2.713212
-2.646867
-2.867601
-2.805071
-2.742407
-2.679580
-2.616644
-2.553492
-2.490245
-2.427068
-2.363348
-2.299724
-2.235963
-2.171970
-2.536161
-2.468897
-2.512400
-2.445129
-2.377665
-2.310811
-2.242883
-2.174633
-2.106119
-2.390833
-2.326206
-2.261447
-2.196521
-2.133181
-2.574511
-2.503277
-2.701299
-2.628488
-2.754283
-2.691463
-2.628403
-2.565281
-2.502025
-2.438623
-2.375187
-2.311581
-2.247927
-2.184129
-2.120266
-2.056269
-1.992225
-1.928084
-1.863798
-1.799469
-1.735073
-1.670471
-1.605804
-1.541005
-1.476103
-1.411703
-1.346543
-1.503636
-1.439613
-1.375524
-1.311377
-1.247192
-1.182980
-1.118745
-1.054498
-0.990217
-1.152671
-1.086196
-1.865064
-1.799516
-1.733831
-2.191856
-2.122649
-2.053344
-1.983993
-1.914553
-1.845056
-1.775486
-1.705856
-1.636183
-1.566474
-1.496726
-1.427961
-1.687038
-1.615835
-1.544594
-1.473315
-1.402001
-1.330663
-1.259317
-1.187965
-1.116605
-1.045249
-1.955325
-1.877149
-1.799105
-1.721143
-1.643338
-1.565663
-1.832709
-1.752513
-1.672485
-1.732690
-1.655932
-1.579394
-1.503071
-1.426997
-1.350550
-1.275059
-1.199848
-1.124977
-1.050444
-0.976271
-0.902473
-0.936794
-0.862610
-2.380834
-2.306834
-2.224474
-2.143155
-2.062216
-1.981124
-1.901317
-1.821586
-1.743356
-1.664109
-1.585804
-1.507955
-1.430583
-1.353686
-1.277676
-1.318060
-1.529394
-1.452275
-1.410411
-1.335581
-1.662732
-1.586404
-1.510547
-1.435181
-1.869255
-1.792639
-1.716533
-1.640137
-1.564978
-1.490339
-1.416201
-1.957536
-1.880866
-1.804641
-1.728881
-1.653574
-1.578715
-1.783259
-1.719406
-1.663985
-1.613028
-1.566239
-1.530868
-1.506621
-1.467652
-1.393463
-1.319744
-1.246461
-1.173624
-1.548237
-1.527490
-1.448635
-1.370181
-1.292118
-1.214419
-1.137126
-1.393373
-1.320217
-1.377154
-1.413518
-1.336028
-1.259014
-1.182522
-1.106484
-1.030987
-0.956020
-0.881635
-0.807754
-0.734496
-1.349037
-1.273834
-1.199185
-1.125118
-1.051642
-0.978767
-0.906526
-0.834906
-0.763955
-0.693652
-0.624008
-1.365127
-1.288282
-1.212036
-1.454702
-1.376861
-1.299584
-1.223306
-1.390171
];
Zfar_frame_Rs = [-963.437800
-966.095300
-965.651300
-972.353400
-966.539600
-966.984300
-964.322000
-967.875100
-968.767400
-975.060400
-968.321000
-967.429500
-972.803500
-974.608200
-972.353400
-975.513000
-974.608200
-969.661400
-970.109100
-975.966100
-977.327800
-979.149200
-975.966100
-977.782500
-974.608200
-971.005600
-977.327800
-979.149200
-980.062600
-974.608200
-977.327800
-979.605700
-977.327800
-979.149200
-977.327800
-979.605700
-972.353400
-975.513000
-978.237700
-970.557100
-973.705000
-977.327800
-970.109100
-973.254000
-976.873400
-975.060400
-973.254000
-976.873400
-970.557100
-973.705000
-977.782500
-971.454400
-975.060400
-968.767400
-972.803500
-976.873400
-975.513000
-974.608200
-968.767400
-972.803500
-966.539600
-971.005600
-974.608200
-969.214200
-972.803500
-974.608200
-973.705000
-973.254000
-969.214200
-972.353400
-972.803500
-973.254000
-972.353400
-972.353400
-971.903700
-971.454400
-971.454400
-970.557100
-970.557100
-971.005600
-971.005600
-971.903700
-972.803500
-973.705000
-972.353400
-975.060400
-975.966100
-972.803500
-976.419600
-974.156400
-977.782500
-974.156400
-977.327800
-980.977600
-978.237700
-982.812700
-981.894300
-983.732900
-984.654800
-986.040900
-985.578400
-986.967100
-987.895100
-989.290300
-989.290300
-991.156700
-991.156700
-992.092700
-993.030300
-994.910900
-996.326000
-996.798600
-998.219200
-1000.120000
-1001.073000
-1001.550000
-1003.463000
-1004.902000
-1005.864000
-1006.828000
-1006.346000
-1008.278000
-1009.731000
-1009.731000
-1010.217000
-1012.163000
-1013.139000
-1012.651000
-1015.097000
-1016.078000
-1016.078000
-1017.555000
-1020.024000
-1020.520000
-1020.024000
-1023.004000
-1023.502000
-1023.004000
-1023.004000
-1026.001000
-1027.004000
-1027.506000
-1028.512000
-1032.048000
-1036.120000
-1032.048000
-1032.555000
-1041.254000
-1042.287000
-1041.770000
-1042.287000
-1042.804000
-1043.840000
-1043.840000
-1046.961000
-1048.528000
-1050.626000
-1051.677000
-1051.151000
-1051.677000
-1054.316000
-1052.731000
-1057.500000
-1056.968000
-1053.787000
-1058.565000
-1056.968000
-1052.204000
-1060.703000
-1062.312000
-1063.387000
-1059.099000
-1063.387000
-1061.239000
-1063.926000
-1065.004000
-1062.312000
-1064.464000
-1068.796000
-1065.544000
-1062.849000
-1066.085000
-1071.522000
-1069.885000
-1067.710000
-1066.085000
-1065.004000
-1063.387000
-1062.312000
-1074.811000
-1074.261000
-1073.712000
-1073.164000
-1072.068000
-1072.068000
-1071.522000
-1069.885000
-1069.340000
-1068.796000
-1067.168000
-1066.626000
-1066.085000
-1077.014000
-1074.811000
-1073.164000
-1071.522000
-1074.261000
-1076.463000
-1074.261000
-1071.522000
-1068.253000
-1072.616000
-1069.340000
-1073.712000
-1069.340000
-1072.616000
-1074.811000
-1069.885000
-1070.975000
-1072.616000
-1072.616000
-1073.164000
-1073.164000
-1074.261000
-1067.710000
-1067.710000
-1067.710000
-1069.340000
-1067.168000
-1066.626000
-1065.004000
-1069.885000
-1069.885000
-1068.796000
-1067.710000
-1066.626000
-1067.710000
-1063.387000
-1067.168000
-1066.085000
-1064.464000
-1063.926000
-1060.703000
-1057.500000
-1052.731000
-1059.099000
-1058.032000
-1049.052000
-1042.287000
-1049.052000
-1042.287000
-1038.167000
-1040.738000
-1026.502000
-1018.541000
-1018.541000
-1017.555000
-1012.163000
-1040.738000
-1037.142000
-1038.167000
-1038.680000
-1034.589000
-1035.609000
-1032.048000
-1032.555000
-1029.016000
-1030.530000
-1028.512000
-1020.520000
-1022.009000
-1023.004000
-1023.502000
-1012.163000
-1013.139000
-1013.139000
-1001.550000
-1001.550000
-994.440100
-1001.550000
-995.382200
-996.326000
-994.440100
-994.440100
-996.798600
-996.798600
-994.440100
-993.499800
-991.156700
-989.290300
-987.430800
-995.382200
-994.910900
-993.030300
-990.222700
-987.895100
-986.040900
-993.499800
-991.624500
-989.756200
];
Znear_frame_Ls = [-3.738243
-3.729168
-3.719364
-3.708852
-3.697673
-3.685560
-3.672864
-3.659401
-3.532595
-3.521550
-3.509476
-3.496400
-3.482313
-3.467234
-3.450994
-3.433837
-3.415644
-3.396313
-3.375938
-3.354555
-3.332099
-3.308601
-3.284026
-3.258354
-3.231691
-3.203851
-3.174977
-3.145069
-3.113973
-3.081857
-3.048697
-3.014570
-2.979530
-2.943470
-2.906393
-2.868317
-2.829208
-2.789052
-2.747791
-2.705432
-2.661969
-2.617874
-2.573632
-2.529312
-2.484813
-2.441168
-2.396468
-2.351688
-2.306739
-2.261682
-2.216493
-2.171180
-2.125741
-2.080182
-2.034463
-1.988652
-1.942694
-1.896628
-1.850429
-1.805961
-2.348708
-2.492301
-2.439906
-2.387483
-2.335008
-2.282511
-2.229995
-2.177468
-2.124871
-2.072296
-2.019696
-1.967084
-1.980543
-1.927909
-1.875290
-1.822713
-1.783555
-1.732763
-2.191773
-2.137190
-2.082627
-2.028040
-1.973483
-1.918888
-1.865223
-1.810748
-1.756287
-1.701902
-1.647538
-1.593257
-1.538989
-1.484806
-1.430696
-1.376670
-1.322725
-1.268875
-1.215949
-2.777883
-2.723572
-2.930055
-2.867618
-2.805058
-2.742342
-2.679550
-2.616657
-2.553509
-2.490247
-2.426885
-2.363498
-2.551876
-2.669973
-2.712559
-2.646112
-2.579376
-2.512584
-2.445178
-2.377664
-2.310859
-2.583922
-2.519663
-2.455330
-2.390821
-2.326221
-2.261442
-2.196513
-2.133181
-2.574410
-2.503271
-2.879681
-2.817059
-2.754329
-2.691404
-2.628391
-2.565250
-2.502029
-2.438620
-2.375152
-2.311605
-2.247900
-2.184150
-2.120281
-2.056289
-1.992219
-1.928100
-1.863887
-1.799478
-1.735062
-1.670489
-1.605845
-1.541153
-1.694438
-1.631400
-1.567583
-1.503633
-1.439614
-1.375528
-1.311374
-1.247191
-1.182976
-1.118744
-1.285161
-1.218989
-1.995551
-1.930351
-1.865013
-1.799500
-1.733844
-2.191855
-2.122655
-2.053351
-1.983977
-1.914554
-1.845065
-1.775485
-1.705851
-1.636180
-1.566469
-1.496732
-1.427954
-1.687038
-1.615837
-1.544599
-1.473315
-1.401998
-1.330668
-1.259324
-1.187964
-1.829658
-1.753172
-1.955363
-1.877169
-1.799108
-1.721153
-1.643338
-1.565665
-1.832752
-1.886682
-1.809593
-1.732673
-1.655930
-1.579394
-1.503073
-1.426987
-1.350549
-1.275042
-1.199843
-1.124974
-1.050442
-1.086419
-1.011430
-2.541811
-2.471478
-2.389014
-2.306855
-2.224477
-2.143163
-2.062212
-1.981111
-1.901320
-1.821595
-1.743355
-1.664106
-1.585796
-1.507962
-1.430578
-1.353686
-1.277682
-1.607263
-1.529393
-1.452277
-1.816815
-1.739535
-1.662725
-1.588880
-2.023991
-1.946360
-1.869257
-1.792633
-1.716541
-1.640127
-1.564984
-2.112279
-2.034660
-1.957529
-1.880869
-1.804634
-1.728873
-1.653577
-1.578716
-1.783311
-1.719401
-1.650017
-1.568765
-1.487916
-1.407437
-1.506550
-1.467651
-1.393466
-1.319741
-1.502697
-1.522624
-1.548146
-1.527480
-1.448642
-1.370183
-1.292110
-1.214422
-1.137130
-1.060223
-0.983713
-0.907611
-0.831928
-0.758220
-1.259015
-1.182510
-1.106484
-1.030981
-0.956025
-0.881602
-0.807754
-0.734491
-1.349039
-1.273835
-1.199182
-1.125121
-1.051635
-0.978775
-0.906537
-0.834916
-1.053982
-0.982383
-1.442519
-1.365120
-1.288280
-1.212036
-1.454705
-1.376868
-1.299586
-1.222878
-1.390169
];
Zfar_frame_Ls = [-963.437800
-966.095300
-965.651300
-967.429500
-966.539600
-966.984300
-964.322000
-967.875100
-968.767400
-975.060400
-968.321000
-967.429500
-972.803500
-974.608200
-972.353400
-975.513000
-974.608200
-969.661400
-970.109100
-975.966100
-977.327800
-979.149200
-975.966100
-977.782500
-974.608200
-971.005600
-977.327800
-979.149200
-980.062600
-974.608200
-977.327800
-979.605700
-977.327800
-979.149200
-977.327800
-979.605700
-972.353400
-975.513000
-978.237700
-970.557100
-974.156400
-977.327800
-970.109100
-973.254000
-976.873400
-975.513000
-978.237700
-976.873400
-970.557100
-973.705000
-977.782500
-971.454400
-975.060400
-968.767400
-972.803500
-976.873400
-975.513000
-974.608200
-968.767400
-972.803500
-966.539600
-971.005600
-974.608200
-968.767400
-972.353400
-974.608200
-973.705000
-973.254000
-973.705000
-972.353400
-972.803500
-973.254000
-972.353400
-972.353400
-971.903700
-972.353400
-970.557100
-971.005600
-970.557100
-970.557100
-971.903700
-971.903700
-972.353400
-972.803500
-974.156400
-975.060400
-975.966100
-974.608200
-976.419600
-975.966100
-976.873400
-978.237700
-975.966100
-980.519800
-977.327800
-981.435700
-982.353300
-983.272600
-984.193600
-985.116400
-985.578400
-986.503800
-987.430800
-988.359700
-989.290300
-991.156700
-991.156700
-992.092700
-992.092700
-994.440100
-995.853900
-996.798600
-997.745200
-999.168500
-1000.596000
-1001.550000
-1002.027000
-1003.463000
-1005.383000
-1005.383000
-1006.828000
-1008.278000
-1009.731000
-1009.731000
-1010.217000
-1012.163000
-1013.628000
-1013.139000
-1015.097000
-1016.078000
-1016.078000
-1017.555000
-1020.520000
-1019.529000
-1020.024000
-1023.004000
-1022.506000
-1023.502000
-1024.001000
-1026.502000
-1026.001000
-1028.009000
-1028.512000
-1030.530000
-1031.035000
-1032.048000
-1031.035000
-1033.063000
-1037.654000
-1037.142000
-1038.167000
-1038.680000
-1039.194000
-1044.359000
-1042.804000
-1044.359000
-1046.440000
-1048.528000
-1051.151000
-1051.677000
-1050.101000
-1049.052000
-1053.787000
-1056.968000
-1050.101000
-1054.845000
-1058.032000
-1054.316000
-1060.703000
-1060.703000
-1061.239000
-1055.375000
-1063.387000
-1059.099000
-1063.926000
-1063.387000
-1059.633000
-1064.464000
-1066.626000
-1063.387000
-1060.703000
-1063.926000
-1069.340000
-1067.710000
-1066.085000
-1064.464000
-1063.387000
-1062.312000
-1061.239000
-1066.626000
-1073.164000
-1073.164000
-1072.616000
-1071.522000
-1071.522000
-1070.975000
-1069.340000
-1069.340000
-1068.796000
-1067.168000
-1066.626000
-1066.085000
-1065.544000
-1074.811000
-1073.164000
-1071.522000
-1074.261000
-1067.168000
-1074.261000
-1071.522000
-1068.253000
-1072.616000
-1069.340000
-1073.712000
-1069.340000
-1072.616000
-1074.811000
-1069.885000
-1070.975000
-1072.616000
-1072.616000
-1073.164000
-1073.712000
-1073.712000
-1067.168000
-1067.710000
-1067.710000
-1069.340000
-1067.168000
-1066.626000
-1065.544000
-1069.885000
-1069.885000
-1068.796000
-1067.710000
-1066.626000
-1067.710000
-1063.926000
-1067.168000
-1066.085000
-1063.926000
-1063.926000
-1060.703000
-1058.032000
-1054.316000
-1059.099000
-1058.032000
-1050.101000
-1043.840000
-1050.626000
-1043.840000
-1042.804000
-1043.840000
-1038.167000
-1039.708000
-1041.254000
-1039.708000
-1039.708000
-1032.048000
-1037.142000
-1038.167000
-1038.680000
-1034.589000
-1035.609000
-1032.048000
-1032.555000
-1030.025000
-1030.530000
-1028.512000
-1022.009000
-1023.502000
-1024.001000
-1024.500000
-1013.628000
-1013.628000
-1013.628000
-1002.505000
-997.271700
-1002.505000
-1002.505000
-996.326000
-996.798600
-995.382200
-995.382200
-994.440100
-986.040900
-995.382200
-994.910900
-992.561200
-990.689500
-989.290300
-986.503800
-994.910900
-993.499800
-991.624500
-989.290300
-986.967100
-984.193600
-991.624500
-990.689500
];
